<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Browser controlled Raspberry Pi Camera Car - Shantanu Vs The World</title><meta name=description content="Spent this weekend building a remote controlled car with a live camera feed with a Raspberry Pi doing the communication and brains duty. Pretty nice real time movement control and camera pan/tilt control through websockets with a live stream feeding back to any browser directly from the car through mjpg-streamer
(PS: Video is at the bottom of the post. Browser/video on TV courtesy ChromeCast. Casted my Nexus 5 screen to the TV simultaneously while controlling the car :) )"><meta name=author content="Shantanu Goel"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Shantanu Vs The World","url":"https:\/\/shantanugoel.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/shantanugoel.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/shantanugoel.com","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/shantanugoel.com\/2014\/08\/03\/browser-controlled-raspberry-pi-camera-car\/","name":"Browser controlled raspberry pi camera car"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Shantanu Goel"},"headline":"Browser controlled Raspberry Pi Camera Car","description":"Spent this weekend building a remote controlled car with a live camera feed with a Raspberry Pi doing the communication and brains duty. Pretty nice real time movement control and camera pan\/tilt control through websockets with a live stream feeding back to any browser directly from the car through mjpg-streamer\n(PS: Video is at the bottom of the post. Browser\/video on TV courtesy ChromeCast. Casted my Nexus 5 screen to the TV simultaneously while controlling the car :) )","inLanguage":"en","wordCount":646,"datePublished":"2014-08-03T15:33:12","dateModified":"2014-08-03T15:33:12","image":"https:\/\/shantanugoel.com\/img\/avatar.jpg","keywords":["electronics, raspberry-pi, rc car"],"mainEntityOfPage":"https:\/\/shantanugoel.com\/2014\/08\/03\/browser-controlled-raspberry-pi-camera-car\/","publisher":{"@type":"Organization","name":"https:\/\/shantanugoel.com","logo":{"@type":"ImageObject","url":"https:\/\/shantanugoel.com\/img\/avatar.jpg","height":60,"width":60}}}</script><meta property="og:title" content="Browser controlled Raspberry Pi Camera Car"><meta property="og:description" content="Spent this weekend building a remote controlled car with a live camera feed with a Raspberry Pi doing the communication and brains duty. Pretty nice real time movement control and camera pan/tilt control through websockets with a live stream feeding back to any browser directly from the car through mjpg-streamer
(PS: Video is at the bottom of the post. Browser/video on TV courtesy ChromeCast. Casted my Nexus 5 screen to the TV simultaneously while controlling the car :) )"><meta property="og:image" content="https://shantanugoel.com/img/avatar.jpg"><meta property="og:url" content="https://shantanugoel.com/2014/08/03/browser-controlled-raspberry-pi-camera-car/"><meta property="og:type" content="website"><meta property="og:site_name" content="Shantanu Vs The World"><meta name=twitter:title content="Browser controlled Raspberry Pi Camera Car"><meta name=twitter:description content="Spent this weekend building a remote controlled car with a live camera feed with a Raspberry Pi doing the communication and brains duty. Pretty nice real time movement control and camera pan/tilt â€¦"><meta name=twitter:image content="https://shantanugoel.com/img/avatar.jpg"><meta name=twitter:card content="summary"><meta name=twitter:site content="@shantanugoel"><meta name=twitter:creator content="@shantanugoel"><link href=https://shantanugoel.com/img/avatar.jpg rel=icon type=image/x-icon><meta name=generator content="Hugo 0.62.1"><link rel=alternate href=https://shantanugoel.com/index.xml type=application/rss+xml title="Shantanu Vs The World"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://shantanugoel.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://shantanugoel.com/css/syntax.css><link rel=stylesheet href=https://shantanugoel.com/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-3966412-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://shantanugoel.com>Shantanu Vs The World</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a href=https://twitter.com/shantanugoel/><i class="fab fa-twitter fa-stack-2x"></i></a></li><li><a title=/blog href=/>/blog</a></li><li><a title=/about href=/about/>/about</a></li><li><a title=/archives href=/archives/>/archives</a></li><li><a title=/categories href=/categories/>/categories</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Shantanu Vs The World" href=https://shantanugoel.com><img class=avatar-img src=https://shantanugoel.com/img/avatar.jpg alt="Shantanu Vs The World"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-heading><h1>Browser controlled Raspberry Pi Camera Car</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>Spent this weekend building a remote controlled car with a live camera feed with a Raspberry Pi doing the communication and brains duty. Pretty nice real time movement control and camera pan/tilt control through websockets with a live stream feeding back to any browser directly from the car through mjpg-streamer</p><p>(PS: Video is at the bottom of the post. Browser/video on TV courtesy ChromeCast. Casted my Nexus 5 screen to the TV simultaneously while controlling the car :) )</p><p>Code: <a href=https://github.com/shantanugoel/raspi-car>https://github.com/shantanugoel/raspi-car</a></p><link rel=stylesheet href=https://shantanugoel.com/css/hugo-easy-gallery.css><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/img/2014/08/2014-08-03-03.44.32-300x225.jpg alt=/img/2014/08/2014-08-03-03.44.32-300x225.jpg></div><a href=/img/2014/08/2014-08-03-03.44.32.jpg itemprop=contentUrl></a><figcaption><h4>Browser Controlled Camera car with Raspberry Pi</h4></figcaption></figure></div><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/img/2014/08/2014-08-03-03.44.40-300x225.jpg alt=/img/2014/08/2014-08-03-03.44.40-300x225.jpg></div><a href=/img/2014/08/2014-08-03-03.44.40.jpg itemprop=contentUrl></a><figcaption><h4>Browser Controlled Camera car with Raspberry Pi</h4></figcaption></figure></div><p><strong>HW Used:</strong></p><ul><li>Dagu Chassis (Includes motors/tires and the plates)</li><li>Dagu Pan/Tilt kit (Servos and brackets to mount the camera)</li><li>Dagu Mini Driver (Arduino clone + Motor driver)</li><li>Raspberry Pi (Model B but any could be used)</li><li>A netgear ethernet to wifi adapter (Since I didn't have the raspi cam so had to save a USB port and use this instead of USB wifi adapter)</li><li>A cheap old USB webcam</li><li>6 AA Cells</li><li>A sony portable charger to power the raspberry pi and wifi adapter</li><li>Wires/Screws/Spacers/Tools (lots of them)</li></ul><p><strong>Features:</strong></p><ul><li><p>Control the car from any browser</p></li><li><p>Can control motion as well as camera pan/tilt from browser using virtual joysticks (Requires multitouch to do pan/tilt as second joystick is needed for this)</p></li><li><p>Streams back video from car camera to the browser</p></li><li><p>Can rotate left/right while being completely stationary</p></li><li><p>Can have multiple connections to the car (not recommended for controlling)</p></li><li><p>Uses websockets for control and response is almost instantaneous like regular toy cars.</p></li><li><p>Responsive touch-anywhere joysticks using virtualjoystick (<a href=https://github.com/jeromeetienne/virtualjoystick.js>https://github.com/jeromeetienne/virtualjoystick.js</a>)</p></li></ul><p><strong>HW Setup overview:</strong></p><ul><li><p>Raspberry Pi connects to the USB webcam and Dagu Mini driver through second USB port (for serial comm)</p></li><li><p>Raspberry Pi powered by micro USB through portable charger</p></li><li><p>DAGU mini driver powered through a 6 AA battery pack (which powers the motors/servos as well)</p></li><li><p>Servos connected to Digital Pins 2 and 4</p></li><li><p>Motors connected to Pins 8-11</p></li><li><p>Wifi adapter powered through portable charger and connected to Pi through ethernet port</p></li></ul><p><strong>SW Setup Overview:</strong></p><ul><li><p>Use any Raspberry Pi software image. I used vanilla raspbian</p></li><li><p>Get all my code from my github: <a href=https://github.com/shantanugoel/raspi-car>https://github.com/shantanugoel/raspi-car</a></p></li><li><p>Compile and start mjpg-streamer using mjpg-streamer.sh (Compilation not needed if using my repo as I included a compiled version of mjpg-streamer and needed plugins)</p></li><li><p>Start websockets and Dagu communication driver back end: controller.py (python controller.py)</p></li><li><p>Open browser to <code>http://rpi:8090</code> (or <code>http://&lt;RaspberryPiIPAddress>:8090</code>) from any device</p></li><li><p>Touch anywhere to start controlling the car. Left half of screen corresponds to car movement joystick. Right half of screen corresponds to camera pan/tilt joystick. You can use either one of them or both simultaneously.</p></li></ul><p><strong>Some Important Points:</strong></p><ul><li><p>Found that you can't use standard Servo library along with DC motors as it disables the PWM on pins 9 & 10 as it uses Timer 1 (Should have read the manual in the first place :| )</p></li><li><p>Used ServoTimer2 library to avoid this (since it uses timer 2) but it didn't compile. Got it compiling and is added to my github repo as well so you can use it too.</p></li><li><p>ServoTimer2 disables use of digital pin 3 for servo. So had to use pin 4 for tilt</p></li><li><p>Raspberry Pi has a back power connection somehow through its full USB port :o Avoid this as much as possible and power on the Pi first and then the battery pack on the Dagu mini driver</p></li><li><p>The Sony portable charger is pretty nice and the power on/off button actually came in handy though I generally detested it otherwise. This helped in turning off the Pi (CP-F10 L is the model name if you want)</p></li><li><p>There is a nice voltage monitor on the Dagu on analog pin 7. This helps in keeping track of the battery levels and can be used to shutdown the car when needed.</p></li><li><p>Servos get driven by the USB power as well but motors require battery power for sure</p></li></ul><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/0OENujtgdg0 style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><div class=blog-tags><a href=https://shantanugoel.com/tags/electronics/>electronics</a>&nbsp;
<a href=https://shantanugoel.com/tags/raspberry-pi/>raspberry-pi</a>&nbsp;
<a href=https://shantanugoel.com/tags/rc-car/>rc car</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fshantanugoel.com%2f2014%2f08%2f03%2fbrowser-controlled-raspberry-pi-camera-car%2f&text=Browser%20controlled%20Raspberry%20Pi%20Camera%20Car&via=shantanugoel" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fshantanugoel.com%2f2014%2f08%2f03%2fbrowser-controlled-raspberry-pi-camera-car%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fshantanugoel.com%2f2014%2f08%2f03%2fbrowser-controlled-raspberry-pi-camera-car%2f&title=Browser%20controlled%20Raspberry%20Pi%20Camera%20Car" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fshantanugoel.com%2f2014%2f08%2f03%2fbrowser-controlled-raspberry-pi-camera-car%2f&title=Browser%20controlled%20Raspberry%20Pi%20Camera%20Car" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fshantanugoel.com%2f2014%2f08%2f03%2fbrowser-controlled-raspberry-pi-camera-car%2f&title=Browser%20controlled%20Raspberry%20Pi%20Camera%20Car" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fshantanugoel.com%2f2014%2f08%2f03%2fbrowser-controlled-raspberry-pi-camera-car%2f&description=Browser%20controlled%20Raspberry%20Pi%20Camera%20Car" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section><h4 class=see-also>See also</h4><ul><li><a href=/2014/07/23/converting-a-toy-rc-car-into-an-autonomous-fun-car-the-indian-way/>Converting A Toy RC Car Into An Autonomous Fun Car The Indian Way</a></li><li><a href=/2013/07/14/samsung-tv-message-box-python/>Display Message on Samsung TVs in Python (Samsung MessageBox Service Exploitation)</a></li></ul></article><ul class="pager blog-pager"><li class=previous><a href=https://shantanugoel.com/2014/07/23/converting-a-toy-rc-car-into-an-autonomous-fun-car-the-indian-way/ data-toggle=tooltip data-placement=top title="Converting A Toy RC Car Into An Autonomous Fun Car The Indian Way">&larr; Previous Post</a></li><li class=next><a href=https://shantanugoel.com/2015/02/16/weekend-hack-shoutcast2dropbox-automatic-shoutcast-stations-to-dropbox-recorder/ data-toggle=tooltip data-placement=top title="Weekend Hack: Shoutcast2Dropbox - Automatic Shoutcast Stations To Dropbox Recorder">Next Post &rarr;</a></li></ul><div class=disqus-comments><button id=show-comments class="btn btn-default" type=button>Show <span class=disqus-comment-count data-disqus-url=https://shantanugoel.com/2014/08/03/browser-controlled-raspberry-pi-camera-car>comments</span></button><div id=disqus_thread></div><script type=text/javascript>var disqus_config=function(){this.page.url='https:\/\/shantanugoel.com\/2014\/08\/03\/browser-controlled-raspberry-pi-camera-car';};</script></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:shantanu@shantanugoel.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/shantanugoel title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/shantanugoel title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">Shantanu Goel
&nbsp;&bull;&nbsp;&copy;
2020
&nbsp;&bull;&nbsp;
<a href=https://shantanugoel.com>Shantanu Vs The World</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.62.1</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
&nbsp;&bull;&nbsp;[<a href=https://github.com/shantanugoel/shantanugoel.com-source/commit/f6965b6df3a3a8d9ebf7c4f3090fe5a4dc1fb5c7>f6965b6d</a>]</p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://shantanugoel.com/js/main.js></script><script>renderMathInElement(document.body);</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://shantanugoel.com/js/load-photoswipe.js></script><script type=text/javascript>$(function(){$('#show-comments').on('click',function(){var disqus_shortname='shantanugoel';(function(){var disqus=document.createElement('script');disqus.type='text/javascript';disqus.async=true;disqus.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(disqus);})();$(this).hide();});});</script><script id=dsq-count-scr src=//shantanugoel.disqus.com/count.js async></script></body></html>