<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Asus on Shantanu Vs The World</title><link>https://shantanugoel.com/tags/asus/</link><description>Recent content in Asus on Shantanu Vs The World</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><managingEditor>shantanu@shantanugoel.com (Shantanu Goel)</managingEditor><webMaster>shantanu@shantanugoel.com (Shantanu Goel)</webMaster><lastBuildDate>Sun, 21 Aug 2011 17:44:24 +0000</lastBuildDate><atom:link href="https://shantanugoel.com/tags/asus/index.xml" rel="self" type="application/rss+xml"/><item><title>Remote Bandwidth Stats</title><link>https://shantanugoel.com/2011/08/21/remote-bandwidth-stats/</link><pubDate>Sun, 21 Aug 2011 17:44:24 +0000</pubDate><author>shantanu@shantanugoel.com (Shantanu Goel)</author><guid>https://shantanugoel.com/2011/08/21/remote-bandwidth-stats/</guid><description>This post is about my open source remote bandwidth usage stats logger project.
I&amp;rsquo;ve been wanting to log the internet bandwidth usage at my home for quite some time since I don&amp;rsquo;t really find the stats put out by my ISP to be completely accurate. But I have multiple devices at home that access the internet so it is not feasible to install a bandwidth monitor individually on all these devices as I&amp;rsquo;d still need to add up all logs and many of such devices don&amp;rsquo;t even have a way to install a monitoring software installed (e.</description><content>&lt;p>This post is about my open source remote bandwidth usage stats logger project.&lt;/p>
&lt;p>I&amp;rsquo;ve been wanting to log the internet bandwidth usage at my home for quite some time since I don&amp;rsquo;t really find the stats put out by my ISP to be completely accurate. But I have multiple devices at home that access the internet so it is not feasible to install a bandwidth monitor individually on all these devices as I&amp;rsquo;d still need to add up all logs and many of such devices don&amp;rsquo;t even have a way to install a monitoring software installed (e.g. my PS3, my TV, my media players, etc). So, I thought of monitoring the usage at my router. It is a smart one (Asus wl-500w) and I can install various linux software on it but then it requires a hard disk to run most of them which I don&amp;rsquo;t turn on all the time. Moreover, even if I could run the software directly from router flash, it doesn&amp;rsquo;t have enough space to store the logs (neither is it a good idea to keep writing to the flash often).&lt;/p>
&lt;p>Hence I came up with the idea of a light weight remote bandwidth usage logger where in the router has to do the bare minimum possible (here, it just has to make a GET call to a webpage with current status of received and transmitted bytes, accomplished by a single line of wget command). The system is completely open source and is intelligent enough to keep track of things even if router reboots or the bytes count wraps around the 4 GB limit (because of 32 bit data structures used). The logging and parsing is all done on server side and provides various useful things.&lt;/p>
&lt;p>Few of the features of the system:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Very lightweight in CPU/RAM resource usage on host as well as server&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Outputs easy to browse html and graphs&lt;/p>
&lt;/li>
&lt;li>
&lt;p>User defined directory structure to decide the granularity that is wanted&lt;/p>
&lt;/li>
&lt;li>
&lt;p>yearly, monthly, daily stats and graphs&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Provides quick access to extra stats like last time the host connected, last known host IP etc&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Provides total download/upload numbers as well as detailed&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Estimates uptime of remote host&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Can use a DNS name or IP to avoid (or call out) spurious amounts of usage logged by a spurious IP&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>The code and all files can be found at github: &lt;strong>&lt;a href="http://github.com/shantanugoel/remote-bandwidth-stats">Remote-Bandwidth-Stats&lt;/a>&lt;/strong>&lt;/p>
&lt;p>The screenshots of the web pages generated by the system can be seen below. Please let me know if you find any issues with the programs or would like to request any new features.&lt;/p>
&lt;p>
&lt;figure class="left" >
&lt;img src="https://shantanugoel.com/img/uploads/remote-bandwidth-stats-year-thumb.png" />
&lt;/figure>
&lt;figure class="left" >
&lt;img src="https://shantanugoel.com/img/uploads/remote-bandwidth-stats-month-thumb.png" />
&lt;/figure>
&lt;figure class="left" >
&lt;img src="https://shantanugoel.com/img/uploads/remote-bandwidth-stats-day-thumb.png" />
&lt;/figure>
&lt;/p></content></item><item><title>Firefly / sqlite error "unable to open database file" Solution</title><link>https://shantanugoel.com/2010/07/26/firefly-sqlite-error-unable-to-open-database-file-solution/</link><pubDate>Mon, 26 Jul 2010 18:11:40 +0000</pubDate><author>shantanu@shantanugoel.com (Shantanu Goel)</author><guid>https://shantanugoel.com/2010/07/26/firefly-sqlite-error-unable-to-open-database-file-solution/</guid><description>Recently I came across a weird error while trying to run firefly itunes server (mt-daapd) on my router (Asus wl-500w). It had something to do with sqlite and gave a vague message &amp;ldquo;Unable to open database file&amp;rdquo;. After going bonkers for a short time, I solved it and this is how.
One of my hard disks crashed recently and unfortunately it was the one I had connected to my router to serve media to me all over the house (through PS3/laptop) or when I travel (through laptop/phone).</description><content>&lt;p>Recently I came across a weird error while trying to run firefly itunes server (mt-daapd) on my router (Asus wl-500w). It had something to do with sqlite and gave a vague message &amp;ldquo;Unable to open database file&amp;rdquo;. After going bonkers for a short time, I solved it and this is how.&lt;/p>
&lt;p>One of my hard disks crashed recently and unfortunately it was the one I had connected to my router to serve media to me all over the house (through PS3/laptop) or when I travel (through laptop/phone). I had all the data backed up but somehow didn&amp;rsquo;t preserve the firefly server. I rebuilt the server from source using my &lt;a href="https://shantanugoel.com/2009/07/03/compiling-latest-firefly-mt-daapd-asus-wl-500w.html">own guide&lt;/a> (Thank God I did it. I wouldn&amp;rsquo;t have been able to preserve my sanity finding all that out the hard way again.). But after doing all the installation and reconfiguration, it gave me a weird error &amp;ldquo;unable to open database file&amp;rdquo; every time and exited. I checked the permissions on the songs3.db file (in /opt/var/cache/mt-daapd for me) and made it writable by all but the issue persisted. I changed its ownership to the user under which firefly was running but the issue was still there. Finally I found that the server (or maybe its an sqlite thing) was trying to create a temp file in the cache directory for the transactions and since the user with which it was started, didn&amp;rsquo;t own the directory it wasn&amp;rsquo;t able to create the file in it.&lt;/p>
&lt;p>So, the fix: I did a &lt;code>chown &amp;lt;username&amp;gt; /opt/var/cache/mt-daapd&lt;/code> on it and voila! the problem was fixed. I am a happy man now since I own a new android phone since last time and now able to stream all my music to my phone through itunes (daap protocol) server over an ssh tunnel :)&lt;/p></content></item><item><title>Cannot Change Channel Problem With Asus WL-500W</title><link>https://shantanugoel.com/2010/07/13/cannot-change-channel-problem-with-asus-wl-500w/</link><pubDate>Tue, 13 Jul 2010 12:16:44 +0000</pubDate><author>shantanu@shantanugoel.com (Shantanu Goel)</author><guid>https://shantanugoel.com/2010/07/13/cannot-change-channel-problem-with-asus-wl-500w/</guid><description>Recently I found an issue with my asus wl-500w wi-fi router that I wasn&amp;rsquo;t able to change the channel on which it was transmitting. I moved to a new location which was totally jam-packed with other wi-fi networks using same channel as mine which was hampeing my connection. I tried for umpteen number of times. Changing the channel through the web configuration did not give any error but I found that it was still transmitting at channel 1.</description><content>&lt;p>Recently I found an issue with my asus wl-500w wi-fi router that I wasn&amp;rsquo;t able to change the channel on which it was transmitting. I moved to a new location which was totally jam-packed with other wi-fi networks using same channel as mine which was hampeing my connection. I tried for umpteen number of times. Changing the channel through the web configuration did not give any error but I found that it was still transmitting at channel 1. I confirmed by checking on the &amp;ldquo;Status &amp;amp; Log&amp;rdquo; page, checking the logs, and running &amp;ldquo;wl status&amp;rdquo; command through ssh and they all confirmed that it was transmitting at channel 1 only, no matter what I set it to in the configuration. I even opened an issue in the firmware project for the custom firmware (by oleg and lly) that I am using but they weren&amp;rsquo;t able to help me as the wi-fi drivers are binary only.&lt;/p>
&lt;p>But by sheer chance, I stumbled upon the solution finally by trial and error. The solution is that you should set the &amp;ldquo;Bandwidth&amp;rdquo; to 20 MHz in wi-fi configuration if you are using 802.11 G. If you set it to 40 MHz then it gets stuck somehow but as soon as I changed it to 20 MHz, I was able to see the channel change immediately after reboot. Here is the screenshot of the page where you can find this setting.&lt;/p>
&lt;p>&lt;a href="https://shantanugoel.com/img/uploads/asus-wl-500-w-change-channel.jpg">&lt;img src="https://shantanugoel.com/img/uploads/asus-wl-500-w-change-channel-thumb.jpg" alt="">&lt;/a>&lt;/p></content></item><item><title>Shutdown Script For Asus WL-500W With Oleg Firmware</title><link>https://shantanugoel.com/2009/03/09/shutdown-script-asus-wl-500w-oleg-firmware/</link><pubDate>Mon, 09 Mar 2009 13:30:04 +0000</pubDate><author>shantanu@shantanugoel.com (Shantanu Goel)</author><guid>https://shantanugoel.com/2009/03/09/shutdown-script-asus-wl-500w-oleg-firmware/</guid><description>If you have an Asus WL-500W, the DIYers&amp;rsquo; favourite wireless router, and have installed the Oleg custom firmware on it, then you would have set up a shutdown script for it, that allows your router to shut down gracefully. This is especially important if you have a USB hard disk attached to it. There are many such scripts available in Oleg&amp;rsquo;s firmware that you can tweak. All of these reside in &amp;ldquo;/usr/local/sbin/&amp;rdquo;.</description><content>&lt;p>If you have an &lt;a href="http://tech.shantanugoel.com/tag/asus-wl-500w">Asus WL-500W&lt;/a>, the DIYers&amp;rsquo; favourite wireless router, and have installed the Oleg custom firmware on it, then you would have set up a shutdown script for it, that allows your router to shut down gracefully. This is especially important if you have a USB hard disk attached to it. There are many such scripts available in Oleg&amp;rsquo;s firmware that you can tweak. All of these reside in &amp;ldquo;/usr/local/sbin/&amp;rdquo;. The one that we are going to talk about today is named &amp;ldquo;pre-shutdown&amp;rdquo; and it is exceuted just before the router is about to shutdown. Here is my script that will stop all the programs that have been started, finalizes all data accesses for the hard drive, unmounts all the partitions and if they can&amp;rsquo;t be unmounted, then mounts them as read only to reduce the risks, and then allows the router to continue shutdown. Although this script is written for Asus WL-500W but it will work with most other routers that use oleg or unslung firmware (like Linksys NSLU2, Asus WL-500G, WL-500gP etc):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#! /bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/opt/etc/init.d/rc.unslung stop
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sleep 5s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sync
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sleep 5s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i in &lt;span style="color:#e6db74">`&lt;/span>cat /proc/mounts | awk &lt;span style="color:#e6db74">&amp;#39;/ext3/{print($1)}&amp;#39;&lt;/span>&lt;span style="color:#e6db74">`&lt;/span> ; &lt;span style="color:#66d9ef">do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> umount $i
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">[&lt;/span> $? !&lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">]&lt;/span> ; &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;Could not unmount &lt;/span>$i&lt;span style="color:#e6db74">. Mounting as read only&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mount -oremount,ro $i
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;Unmount &lt;/span>$i&lt;span style="color:#e6db74">.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>swapoff -a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sleep 1s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></content></item><item><title>The Solution To Your Problem Is Out There .... Somewhere</title><link>https://shantanugoel.com/2008/12/03/the-solution-to-your-problem-is-out-there-somewhere/</link><pubDate>Wed, 03 Dec 2008 15:30:00 +0000</pubDate><author>shantanu@shantanugoel.com (Shantanu Goel)</author><guid>https://shantanugoel.com/2008/12/03/the-solution-to-your-problem-is-out-there-somewhere/</guid><description>I got hold of a new Asus WL-500W router for me (Pics &amp;amp; specs coming up soon). The router has open source firmware so people can develop applications for it. One such app (ADOS) is that allows you to configure the router to download stuff directly to a hard disk (connected to router through USB) without the need of keeping the PC switched on. One of the app users reported the following error (Click on the pic to enlarge) that he got while using the app.</description><content>&lt;p>I got hold of a new Asus WL-500W router for me (Pics &amp;amp; specs coming up soon). The router has open source firmware so people can develop applications for it. One such app (ADOS) is that allows you to configure the router to download stuff directly to a hard disk (connected to router through USB) without the need of keeping the PC switched on. One of the app users reported the following error (Click on the pic to enlarge) that he got while using the app.&lt;/p>
&lt;p>&lt;a href="https://shantanugoel.com/img/uploads/ADOS_20error_20message.jpg">&lt;img src="https://shantanugoel.com/img/uploads/ADOS_20error_20message_thumb.jpg" alt="Asus WL-500W ADOS error message">&lt;/a>&lt;/p>
&lt;p>Let&amp;rsquo;s see what it says:&lt;/p>
&lt;p>[Error] Description: An error occured while connecting to the remote server.&lt;/p>
&lt;p>Probable Reasons: Probable reasons can be found in the error&amp;rsquo;s description. (Hmmm, lets wait &amp;amp; watch)&lt;/p>
&lt;p>Probable Solutions: Probable soulutions (sic) can be found in the error&amp;rsquo;s description. (Yay!! Alrightâ€¦.hey, wait a sec, how am I supposed to find a solution from a description that says &amp;ldquo;An error occured&amp;rdquo;)&lt;/p>
&lt;p>So, that&amp;rsquo;s it for now folks. Am off to the himalayas to get some training from the mahatmas in the exquisite art of psychic healing (and router apps bug fixing).&lt;/p></content></item></channel></rss>