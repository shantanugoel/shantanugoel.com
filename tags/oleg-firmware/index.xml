<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Oleg Firmware on Shantanu Vs The World</title><link>https://shantanugoel.com/tags/oleg-firmware/</link><description>Recent content in Oleg Firmware on Shantanu Vs The World</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 13 Jul 2010 12:16:44 +0000</lastBuildDate><atom:link href="https://shantanugoel.com/tags/oleg-firmware/index.xml" rel="self" type="application/rss+xml"/><item><title>Cannot Change Channel Problem With Asus WL-500W</title><link>https://shantanugoel.com/2010/07/13/cannot-change-channel-problem-with-asus-wl-500w/</link><pubDate>Tue, 13 Jul 2010 12:16:44 +0000</pubDate><guid>https://shantanugoel.com/2010/07/13/cannot-change-channel-problem-with-asus-wl-500w/</guid><description>&lt;p>Recently I found an issue with my asus wl-500w wi-fi router that I wasn&amp;rsquo;t able to change the channel on which it was transmitting. I moved to a new location which was totally jam-packed with other wi-fi networks using same channel as mine which was hampeing my connection. I tried for umpteen number of times. Changing the channel through the web configuration did not give any error but I found that it was still transmitting at channel 1. I confirmed by checking on the &amp;ldquo;Status &amp;amp; Log&amp;rdquo; page, checking the logs, and running &amp;ldquo;wl status&amp;rdquo; command through ssh and they all confirmed that it was transmitting at channel 1 only, no matter what I set it to in the configuration. I even opened an issue in the firmware project for the custom firmware (by oleg and lly) that I am using but they weren&amp;rsquo;t able to help me as the wi-fi drivers are binary only.&lt;/p></description><content>&lt;p>Recently I found an issue with my asus wl-500w wi-fi router that I wasn&amp;rsquo;t able to change the channel on which it was transmitting. I moved to a new location which was totally jam-packed with other wi-fi networks using same channel as mine which was hampeing my connection. I tried for umpteen number of times. Changing the channel through the web configuration did not give any error but I found that it was still transmitting at channel 1. I confirmed by checking on the &amp;ldquo;Status &amp;amp; Log&amp;rdquo; page, checking the logs, and running &amp;ldquo;wl status&amp;rdquo; command through ssh and they all confirmed that it was transmitting at channel 1 only, no matter what I set it to in the configuration. I even opened an issue in the firmware project for the custom firmware (by oleg and lly) that I am using but they weren&amp;rsquo;t able to help me as the wi-fi drivers are binary only.&lt;/p>
&lt;p>But by sheer chance, I stumbled upon the solution finally by trial and error. The solution is that you should set the &amp;ldquo;Bandwidth&amp;rdquo; to 20 MHz in wi-fi configuration if you are using 802.11 G. If you set it to 40 MHz then it gets stuck somehow but as soon as I changed it to 20 MHz, I was able to see the channel change immediately after reboot. Here is the screenshot of the page where you can find this setting.&lt;/p>
&lt;p>&lt;a href="https://shantanugoel.com/img/uploads/asus-wl-500-w-change-channel.jpg">&lt;img src="https://shantanugoel.com/img/uploads/asus-wl-500-w-change-channel-thumb.jpg" alt="">&lt;/a>&lt;/p></content></item><item><title>Shutdown Script For Asus WL-500W With Oleg Firmware</title><link>https://shantanugoel.com/2009/03/09/shutdown-script-asus-wl-500w-oleg-firmware/</link><pubDate>Mon, 09 Mar 2009 13:30:04 +0000</pubDate><guid>https://shantanugoel.com/2009/03/09/shutdown-script-asus-wl-500w-oleg-firmware/</guid><description>&lt;p>If you have an &lt;a href="http://tech.shantanugoel.com/tag/asus-wl-500w">Asus WL-500W&lt;/a>, the DIYers&amp;rsquo; favourite wireless router, and have installed the Oleg custom firmware on it, then you would have set up a shutdown script for it, that allows your router to shut down gracefully. This is especially important if you have a USB hard disk attached to it. There are many such scripts available in Oleg&amp;rsquo;s firmware that you can tweak. All of these reside in &amp;ldquo;/usr/local/sbin/&amp;rdquo;. The one that we are going to talk about today is named &amp;ldquo;pre-shutdown&amp;rdquo; and it is exceuted just before the router is about to shutdown. Here is my script that will stop all the programs that have been started, finalizes all data accesses for the hard drive, unmounts all the partitions and if they can&amp;rsquo;t be unmounted, then mounts them as read only to reduce the risks, and then allows the router to continue shutdown. Although this script is written for Asus WL-500W but it will work with most other routers that use oleg or unslung firmware (like Linksys NSLU2, Asus WL-500G, WL-500gP etc):&lt;/p></description><content>&lt;p>If you have an &lt;a href="http://tech.shantanugoel.com/tag/asus-wl-500w">Asus WL-500W&lt;/a>, the DIYers&amp;rsquo; favourite wireless router, and have installed the Oleg custom firmware on it, then you would have set up a shutdown script for it, that allows your router to shut down gracefully. This is especially important if you have a USB hard disk attached to it. There are many such scripts available in Oleg&amp;rsquo;s firmware that you can tweak. All of these reside in &amp;ldquo;/usr/local/sbin/&amp;rdquo;. The one that we are going to talk about today is named &amp;ldquo;pre-shutdown&amp;rdquo; and it is exceuted just before the router is about to shutdown. Here is my script that will stop all the programs that have been started, finalizes all data accesses for the hard drive, unmounts all the partitions and if they can&amp;rsquo;t be unmounted, then mounts them as read only to reduce the risks, and then allows the router to continue shutdown. Although this script is written for Asus WL-500W but it will work with most other routers that use oleg or unslung firmware (like Linksys NSLU2, Asus WL-500G, WL-500gP etc):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#! /bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/opt/etc/init.d/rc.unslung stop
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sleep 5s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sync
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sleep 5s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i in &lt;span style="color:#e6db74">`&lt;/span>cat /proc/mounts | awk &lt;span style="color:#e6db74">&amp;#39;/ext3/{print($1)}&amp;#39;&lt;/span>&lt;span style="color:#e6db74">`&lt;/span> ; &lt;span style="color:#66d9ef">do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> umount $i
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">[&lt;/span> $? !&lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">]&lt;/span> ; &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;Could not unmount &lt;/span>$i&lt;span style="color:#e6db74">. Mounting as read only&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mount -oremount,ro $i
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;Unmount &lt;/span>$i&lt;span style="color:#e6db74">.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>swapoff -a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sleep 1s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></content></item></channel></rss>