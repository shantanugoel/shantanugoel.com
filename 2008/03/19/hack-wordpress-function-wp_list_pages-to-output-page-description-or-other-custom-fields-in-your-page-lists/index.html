<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Hack: WordPress function 'wp_list_pages' to output page description (or other custom fields) in your page lists - Shantanu Vs The World</title><meta name=description content="Disclaimer: I&rsquo;m neither a WordPress guru nor a PHP expert. This is what it is, a dirtly little hack, otherwise I&rsquo;d have called it an &ldquo;enhancement&rdquo; Now onto the main things.
**Aim: **You would have used wp_list_pages (or plugins like dd-list-subpages, that use it) to display a list of your pages/subpages on a particular page. e.g., I use it on my &ldquo;Projects&rdquo; pages hierarchy to list all the relevant projects under a particular heading."><meta name=author content="Shantanu Goel"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Shantanu Vs The World","url":"https:\/\/shantanugoel.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/shantanugoel.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/shantanugoel.com","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/shantanugoel.com\/2008\/03\/19\/hack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists\/","name":"Hack word press function \u0027wp list pages\u0027 to output page description (or other custom fields) in your page lists"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Shantanu Goel"},"headline":"Hack: WordPress function 'wp_list_pages' to output page description (or other custom fields) in your page lists","description":"Disclaimer: I\u0026rsquo;m neither a WordPress guru nor a PHP expert. This is what it is, a dirtly little hack, otherwise I\u0026rsquo;d have called it an \u0026ldquo;enhancement\u0026rdquo; Now onto the main things.\n**Aim: **You would have used wp_list_pages (or plugins like dd-list-subpages, that use it) to display a list of your pages/subpages on a particular page. e.g., I use it on my \u0026ldquo;Projects\u0026rdquo; pages hierarchy to list all the relevant projects under a particular heading.","inLanguage":"en","wordCount":519,"datePublished":"2008-03-19T03:30:00","dateModified":"2008-03-19T03:30:00","image":"https:\/\/shantanugoel.com\/img\/avatar.jpg","keywords":["custom fields","description","Hack","list of pages","pages","PHP","start_el","subpages","Walker","wordpress","wp_list_pages"],"mainEntityOfPage":"https:\/\/shantanugoel.com\/2008\/03\/19\/hack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists\/","publisher":{"@type":"Organization","name":"https:\/\/shantanugoel.com","logo":{"@type":"ImageObject","url":"https:\/\/shantanugoel.com\/img\/avatar.jpg","height":60,"width":60}}}</script><meta property="og:title" content="Hack: WordPress function 'wp_list_pages' to output page description (or other custom fields) in your page lists"><meta property="og:description" content="Disclaimer: I&rsquo;m neither a WordPress guru nor a PHP expert. This is what it is, a dirtly little hack, otherwise I&rsquo;d have called it an &ldquo;enhancement&rdquo; Now onto the main things.
**Aim: **You would have used wp_list_pages (or plugins like dd-list-subpages, that use it) to display a list of your pages/subpages on a particular page. e.g., I use it on my &ldquo;Projects&rdquo; pages hierarchy to list all the relevant projects under a particular heading."><meta property="og:image" content="https://shantanugoel.com/img/avatar.jpg"><meta property="og:url" content="https://shantanugoel.com/2008/03/19/hack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists/"><meta property="og:type" content="website"><meta property="og:site_name" content="Shantanu Vs The World"><meta name=twitter:title content="Hack: WordPress function 'wp_list_pages' to output page description …"><meta name=twitter:description content="Disclaimer: I&rsquo;m neither a WordPress guru nor a PHP expert. This is what it is, a dirtly little hack, otherwise I&rsquo;d have called it an &ldquo;enhancement&rdquo; Now onto the main things. …"><meta name=twitter:image content="https://shantanugoel.com/img/avatar.jpg"><meta name=twitter:card content="summary"><meta name=twitter:site content="@shantanugoel"><meta name=twitter:creator content="@shantanugoel"><link href=https://shantanugoel.com/img/avatar.jpg rel=icon type=image/x-icon><meta name=generator content="Hugo 0.80.0"><link rel=alternate href=https://shantanugoel.com/index.xml type=application/rss+xml title="Shantanu Vs The World"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://shantanugoel.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://shantanugoel.com/css/syntax.css><link rel=stylesheet href=https://shantanugoel.com/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-3966412-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://shantanugoel.com>Shantanu Vs The World</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a href=https://twitter.com/shantanugoel/><i class="fab fa-twitter fa-stack-2x"></i></a></li><li><a title=/blog href=/>/blog</a></li><li><a title=/about href=/about/>/about</a></li><li><a title=/archives href=/archives/>/archives</a></li><li><a title=/categories href=/categories/>/categories</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Shantanu Vs The World" href=https://shantanugoel.com><img class=avatar-img src=https://shantanugoel.com/img/avatar.jpg alt="Shantanu Vs The World"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-heading><h1>Hack: WordPress function 'wp_list_pages' to output page description (or other custom fields) in your page lists</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p><strong>Disclaimer:</strong> I&rsquo;m neither a WordPress guru nor a PHP expert. This is what it is, a dirtly little hack, otherwise I&rsquo;d have called it an &ldquo;enhancement&rdquo; <img src=http://tech.shantanugoel.com/uploads/smile1.gif alt></p><p>Now onto the main things.</p><p>**Aim: **You would have used wp_list_pages (or plugins like <a href=http://www.dagondesign.com/articles/list-subpages-plugin-for-wordpress/>dd-list-subpages</a>, that use it) to display a list of your pages/subpages on a particular page. e.g., I use it on my &ldquo;<a href=http://tech.shantanugoel.com/projects>Projects</a>&rdquo; pages hierarchy to list all the relevant projects under a particular heading. Now, the thing is that wp_list_pages gives you a lot of options to display things like dates, page title, page link, etc, but that&rsquo;s not enough. I need to provide a small description for each page as well, to put things into perspective. Obviously, I don&rsquo;t expect the visitors to go inside each link to see what it holds in store for them.</p><p><strong>The Hack:</strong> What you need to do is locate a file called &ldquo;classes.php&rdquo; in your wordpress installation. It is usually located at /wp-includes.</p><p>Now, open the file and find a function called &ldquo;start_el&rdquo;. This is a function in the &ldquo;Walker&rdquo; class, which is used in WordPress to parse tree-like structures. Here, it used by wp_list_pages to list out all the pages. Now, at the very end of this function (just after the closing brace of if ( !empty($show_date) ) { ), place the following piece of code:</p><hr><blockquote><p>What this code does is:</p></blockquote><blockquote><ol><li>Look for a custom field called &ldquo;description&rdquo; in your pages. If present, it will show what you wrote there after each of your page in the list generated by wp_list_pages. (To add a custom field to your page, look at the very bottom of your &ldquo;write&rdquo; page or &ldquo;manage&rdquo; page in the WordPress dashboard.</li></ol></blockquote><blockquote><ol start=2><li>If the &ldquo;description&rdquo; field is not present (obviously you might not like to go back and add a custom field to all your pages), it takes the first 250 characters of your page&rsquo;s content and displays that.</li></ol></blockquote><blockquote><p><strong>The Hack Is Not Finished Yet:</strong> There is just one little thing left to do. As I mentioned, this function is used other times as well (e.g. making your navigation menu). So, you don&rsquo;t want the description to be appearing always, otherwise it will wreak havoc on your site&rsquo;s layout. So, there is again a dirty little trick to prevent this.</p></blockquote><blockquote><p>At the place where you are calling wp_list_pages, modify the call to include the following code before and after the call:</p></blockquote><blockquote></blockquote><blockquote><blockquote><p>And, modify the previously listed code as well to look like:</p></blockquote></blockquote><blockquote><blockquote></blockquote></blockquote><blockquote><blockquote><blockquote><p>What this does now is that it adds an option/variable to WordPress database, which you set to 1 before calling wp_list_pages to tell your code that now its time to display the description, and then restore its state to 0, to prevent the description from being displayed for any other wp_list_pages call.</p></blockquote></blockquote></blockquote><p>For your reference, I&rsquo;m attaching my copy of classes.php here.<strong><a href=http://tech.shantanugoel.com/uploads/classes.php.zip>File Attachment: classes.php.zip (6 KB)</a></strong>.</p><p>For an example of how it finally looks like, take a look at my &ldquo;<a href=http://tech.shantanugoel.com/projects>Project</a>&rdquo; page.</p><blockquote><blockquote><blockquote><p><strong>Now It Is Finished:</strong> Yes, am not lying. It&rsquo;s done. All your &ldquo;Thank You&rsquo;s&rdquo; are accepted, and so are your flames, if any <img src=http://tech.shantanugoel.com/uploads/smile1.gif alt>.</p></blockquote></blockquote></blockquote><blockquote><blockquote><blockquote></blockquote></blockquote></blockquote><div class=blog-tags><a href=https://shantanugoel.com/tags/custom-fields/>custom fields</a>&nbsp;
<a href=https://shantanugoel.com/tags/description/>description</a>&nbsp;
<a href=https://shantanugoel.com/tags/hack/>Hack</a>&nbsp;
<a href=https://shantanugoel.com/tags/list-of-pages/>list of pages</a>&nbsp;
<a href=https://shantanugoel.com/tags/pages/>pages</a>&nbsp;
<a href=https://shantanugoel.com/tags/php/>PHP</a>&nbsp;
<a href=https://shantanugoel.com/tags/start_el/>start_el</a>&nbsp;
<a href=https://shantanugoel.com/tags/subpages/>subpages</a>&nbsp;
<a href=https://shantanugoel.com/tags/walker/>Walker</a>&nbsp;
<a href=https://shantanugoel.com/tags/wordpress/>wordpress</a>&nbsp;
<a href=https://shantanugoel.com/tags/wp_list_pages/>wp_list_pages</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fshantanugoel.com%2f2008%2f03%2f19%2fhack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists%2f&text=Hack%3a%20WordPress%20function%20%27wp_list_pages%27%20to%20output%20page%20description%20%28or%20other%20custom%20fields%29%20in%20your%20page%20lists&via=shantanugoel" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fshantanugoel.com%2f2008%2f03%2f19%2fhack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fshantanugoel.com%2f2008%2f03%2f19%2fhack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists%2f&title=Hack%3a%20WordPress%20function%20%27wp_list_pages%27%20to%20output%20page%20description%20%28or%20other%20custom%20fields%29%20in%20your%20page%20lists" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fshantanugoel.com%2f2008%2f03%2f19%2fhack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists%2f&title=Hack%3a%20WordPress%20function%20%27wp_list_pages%27%20to%20output%20page%20description%20%28or%20other%20custom%20fields%29%20in%20your%20page%20lists" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fshantanugoel.com%2f2008%2f03%2f19%2fhack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists%2f&title=Hack%3a%20WordPress%20function%20%27wp_list_pages%27%20to%20output%20page%20description%20%28or%20other%20custom%20fields%29%20in%20your%20page%20lists" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fshantanugoel.com%2f2008%2f03%2f19%2fhack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists%2f&description=Hack%3a%20WordPress%20function%20%27wp_list_pages%27%20to%20output%20page%20description%20%28or%20other%20custom%20fields%29%20in%20your%20page%20lists" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section><h4 class=see-also>See also</h4><ul><li><a href=/2015/02/16/weekend-hack-shoutcast2dropbox-automatic-shoutcast-stations-to-dropbox-recorder/>Weekend Hack: Shoutcast2Dropbox - Automatic Shoutcast Stations To Dropbox Recorder</a></li><li><a href=/2014/07/23/converting-a-toy-rc-car-into-an-autonomous-fun-car-the-indian-way/>Converting A Toy RC Car Into An Autonomous Fun Car The Indian Way</a></li><li><a href=/2010/10/04/wordpress-global-dashboard-stats-plugin-problem/>WordPress Global Dashboard & Stats Plugin Problem</a></li><li><a href=/2009/03/02/wordpress-plugin-shantz-wp-prefix-suffix-updated-114/>Project: My WordPress Plugin Shantz WP Prefix Suffix Updated to 1.1.4</a></li><li><a href=/2009/02/19/project-shantz-wordpress-prefix-suffix-updated-to-112/>Project: Shantz WordPress Prefix Suffix Updated to 1.1.2</a></li></ul></article><ul class="pager blog-pager"><li class=previous><a href=https://shantanugoel.com/2008/03/18/windows-mobile-missed-call-made-easy-indian-cell-owners-rejoice/ data-toggle=tooltip data-placement=top title="Windows Mobile: Missed Call Made Easy (Indian Cell Owners Rejoice)">&larr; Previous Post</a></li><li class=next><a href=https://shantanugoel.com/2008/03/22/project-windows-mobile-tool-shantztodaychanger-updated-to-version-153/ data-toggle=tooltip data-placement=top title="Project: Windows Mobile Tool ShantzTodayChanger Updated to version 1.53">Next Post &rarr;</a></li></ul><div class=disqus-comments><button id=show-comments class="btn btn-default" type=button>Show <span class=disqus-comment-count data-disqus-url=https://shantanugoel.com/2008/03/19/hack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists>comments</span></button><div id=disqus_thread></div><script type=text/javascript>var disqus_config=function(){this.page.url='https:\/\/shantanugoel.com\/2008\/03\/19\/hack-wordpress-function-wp_list_pages-to-output-page-description-or-other-custom-fields-in-your-page-lists';};</script></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:shantanu@shantanugoel.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/shantanugoel title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/shantanugoel title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">Shantanu Goel
&nbsp;&bull;&nbsp;&copy;
2021
&nbsp;&bull;&nbsp;
<a href=https://shantanugoel.com>Shantanu Vs The World</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.80.0</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
&nbsp;&bull;&nbsp;[<a href=https://github.com/shantanugoel/shantanugoel.com-source/commit/f6965b6df3a3a8d9ebf7c4f3090fe5a4dc1fb5c7>f6965b6d</a>]</p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://shantanugoel.com/js/main.js></script><script>renderMathInElement(document.body);</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://shantanugoel.com/js/load-photoswipe.js></script><script type=text/javascript>$(function(){$('#show-comments').on('click',function(){var disqus_shortname='shantanugoel';(function(){var disqus=document.createElement('script');disqus.type='text/javascript';disqus.async=true;disqus.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(disqus);})();$(this).hide();});});</script><script id=dsq-count-scr src=//shantanugoel.disqus.com/count.js async></script></body></html>