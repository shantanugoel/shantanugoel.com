<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>TIP: Automating Website Backups - Shantanu Vs The World</title><meta name=description content="What can go wrong with your wonderfully running website / blog? Everything..
Your online abode is so difficult to keep secured. It can get hacked, you may install something wrong, a wrong configuration can wreak havoc, the server hard disk might crash, natural calamities, and what not. Your best option to secure yourself against all this is summarized in just one word “BACKUP”.
Now, a backup involves two most important things: “Database Backup” and “Files Backup”."><meta name=author content="Shantanu Goel"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Shantanu Vs The World","url":"https:\/\/shantanugoel.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/shantanugoel.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/shantanugoel.com","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/shantanugoel.com\/2008\/02\/17\/tip-automating-website-backups\/","name":"T i p automating website backups"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Shantanu Goel"},"headline":"TIP: Automating Website Backups","description":"What can go wrong with your wonderfully running website \/ blog? Everything..\nYour online abode is so difficult to keep secured. It can get hacked, you may install something wrong, a wrong configuration can wreak havoc, the server hard disk might crash, natural calamities, and what not. Your best option to secure yourself against all this is summarized in just one word “BACKUP”.\nNow, a backup involves two most important things: “Database Backup” and “Files Backup”.","inLanguage":"en","wordCount":806,"datePublished":"2008-02-17T09:19:50","dateModified":"2008-02-17T09:19:50","image":"https:\/\/shantanugoel.com\/img\/avatar.jpg","keywords":["automate site backup, automate website backup, automated backup, automatically e-mail site backup, backup, cron, crontab, site backup, tar, Webhosting, webhosting tip, website backup"],"mainEntityOfPage":"https:\/\/shantanugoel.com\/2008\/02\/17\/tip-automating-website-backups\/","publisher":{"@type":"Organization","name":"https:\/\/shantanugoel.com","logo":{"@type":"ImageObject","url":"https:\/\/shantanugoel.com\/img\/avatar.jpg","height":60,"width":60}}}</script><meta property="og:title" content="TIP: Automating Website Backups"><meta property="og:description" content="What can go wrong with your wonderfully running website / blog? Everything..
Your online abode is so difficult to keep secured. It can get hacked, you may install something wrong, a wrong configuration can wreak havoc, the server hard disk might crash, natural calamities, and what not. Your best option to secure yourself against all this is summarized in just one word “BACKUP”.
Now, a backup involves two most important things: “Database Backup” and “Files Backup”."><meta property="og:image" content="https://shantanugoel.com/img/avatar.jpg"><meta property="og:url" content="https://shantanugoel.com/2008/02/17/tip-automating-website-backups/"><meta property="og:type" content="website"><meta property="og:site_name" content="Shantanu Vs The World"><meta name=twitter:title content="TIP: Automating Website Backups"><meta name=twitter:description content="What can go wrong with your wonderfully running website / blog? Everything..
Your online abode is so difficult to keep secured. It can get hacked, you may install something wrong, a wrong …"><meta name=twitter:image content="https://shantanugoel.com/img/avatar.jpg"><meta name=twitter:card content="summary"><meta name=twitter:site content="@shantanugoel"><meta name=twitter:creator content="@shantanugoel"><link href=https://shantanugoel.com/img/avatar.jpg rel=icon type=image/x-icon><meta name=generator content="Hugo 0.67.1"><link rel=alternate href=https://shantanugoel.com/index.xml type=application/rss+xml title="Shantanu Vs The World"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://shantanugoel.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://shantanugoel.com/css/syntax.css><link rel=stylesheet href=https://shantanugoel.com/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-3966412-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://shantanugoel.com>Shantanu Vs The World</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a href=https://twitter.com/shantanugoel/><i class="fab fa-twitter fa-stack-2x"></i></a></li><li><a title=/blog href=/>/blog</a></li><li><a title=/about href=/about/>/about</a></li><li><a title=/archives href=/archives/>/archives</a></li><li><a title=/categories href=/categories/>/categories</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Shantanu Vs The World" href=https://shantanugoel.com><img class=avatar-img src=https://shantanugoel.com/img/avatar.jpg alt="Shantanu Vs The World"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-heading><h1>TIP: Automating Website Backups</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>What can go wrong with your wonderfully running website / blog? Everything..</p><p>Your online abode is so difficult to keep secured. It can get hacked, you may install something wrong, a wrong configuration can wreak havoc, the server hard disk might crash, natural calamities, and what not. Your best option to secure yourself against all this is summarized in just one word “BACKUP”.</p><p>Now, a backup involves two most important things: “Database Backup” and “Files Backup”. Most webhosts give you the options to back these up for you but with a few catches:</p><ul><li><p>You can backup but only through your control panel manually. No automation/scheduling of backups.</p></li><li><p>Automated Backing up is not free</p></li><li><p>Automated Backing up is free but restoring is not as they give you the backed up data only on request.</p></li></ul><p>There are many plugins available for most CMS and blogging sw for backing up databases. But what about the files? Especially if you have more than one sites on one hosting account. Well, here I’ll tell you how to automate file backups in three simple steps.</p><p>Note: This guide is only for linux based hosts. But you can follow a similar approach for windows based hosting as well.</p><p>Step 1) Backup through command line.</p><p>You can use “tar” for this. With tar, you can create compressed archives quickly for a complete directory tree.</p><blockquote></blockquote><blockquote><ul><li>tar is the name of the command</li></ul></blockquote><blockquote><ul><li>c => compress v=> verbose z=>gzip for compression</li></ul></blockquote><blockquote><ul><li>~/backups => backup directory where ur backups will be stored (~ is shortcut for your home directory). It is generally a good practice to store your backups in a directory not directly accessible through http, i.e., outside your public_html directory.</li></ul></blockquote><blockquote><ul><li>backup_<code>date +%w</code>.tgz => forms the name of the backup file in the form backup_.tgz. This will form a circular buffer kind of scenario where backups more than 1 week later will automatically be overwritten by latest ones to avoid using up all your webspace. You can modify this according to your need and available webspace by taking a look at man page of “date” command. (Run “man date” on command line)</li></ul></blockquote><blockquote><ul><li>~/public_html => is the directory you want to backup. Most probably your website will be located in this directory. If not sure, then check with your webhost.</li></ul></blockquote><p>Step 2) Mailing the backup to yourself through command line. (The server might develop some problem, hard disk might crash or your backups on server might be lost, so this is a good option to have)</p><blockquote></blockquote><p>Explanation:</p><blockquote><blockquote></blockquote></blockquote><blockquote><blockquote><ul><li>mutt => mailing user agent that sends the mail (You can use others, but I prefer mutt)</li></ul></blockquote></blockquote><blockquote><blockquote><ul><li>-s &ldquo;Backup <code>date</code>&rdquo; => -s option is to specify the subject of the mail on command line. This line will specify the backup date as subject.</li></ul></blockquote></blockquote><blockquote><blockquote><ul><li>-a ~/backups/backup_<code>date +%w</code>.tgz => -a option specifies the file to be attached.</li></ul></blockquote></blockquote><blockquote><blockquote><ul><li><a href=mailto:myuserid@mymail.com>myuserid@mymail.com</a> => Specify the mail id t which the email has to be sent</li></ul></blockquote></blockquote><blockquote><blockquote><ul><li>&lt;/dev/null => The body of the email is empty. If you want some text to be here, you can form a file, say “email.txt” and write the contents in it and replace the above part with “&lt;email.txt”</li></ul></blockquote></blockquote><p>Step 3) Final Step. Automating it all. What you need to do is add the above commands into a script and then find a way to make it run automatically.</p><p>The script looks like:</p><blockquote><blockquote></blockquote></blockquote><p>Save it as “backup.sh” and make it executable by running “chmod +x backup.sh”. We’ll assume that you save it in ~/backups directory. You can store it anywhere, just remember it.</p><p>Now, you need to tell the server to run it automatically at a specified time. We’ll use “cron” for this. (If you are not comfortable with command line, then login to your website control panel, and look for an option called cron, where you can make the schedule graphically) Run the following command:</p><blockquote><blockquote><blockquote></blockquote></blockquote></blockquote><p>This will open a file with your scheduled tasks info. Make sure that you don’t touch any of the existing lines. Add the following line at the end.</p><blockquote><blockquote><blockquote><blockquote></blockquote></blockquote></blockquote></blockquote><p>The first line will make sure that the output of the script, any errors etc, are sent to the your local mail account, that you can check for debugging purposes.</p><p>The second line is of the format “# m h dom mon dow command”
m=> minute of the hour
h=&#187; hour of the day
dom=> Day of month
mon=> month of year
dow=> day of week
command=> command that you want to run
So, the command mentioned above will run the command every day at 10:00 PM GMT. You can modify the line according to your needs.</p><p>That’s it. You are done. Just wait for the specified time, and then check your mailbox for the backup file. Let me know if you face any problems, have any issues, or want to ask any questions about cuztomizing it for yourself.</p><div class=blog-tags><a href=https://shantanugoel.com/tags/automate-site-backup/>automate site backup</a>&nbsp;
<a href=https://shantanugoel.com/tags/automate-website-backup/>automate website backup</a>&nbsp;
<a href=https://shantanugoel.com/tags/automated-backup/>automated backup</a>&nbsp;
<a href=https://shantanugoel.com/tags/automatically-e-mail-site-backup/>automatically e-mail site backup</a>&nbsp;
<a href=https://shantanugoel.com/tags/backup/>backup</a>&nbsp;
<a href=https://shantanugoel.com/tags/cron/>cron</a>&nbsp;
<a href=https://shantanugoel.com/tags/crontab/>crontab</a>&nbsp;
<a href=https://shantanugoel.com/tags/site-backup/>site backup</a>&nbsp;
<a href=https://shantanugoel.com/tags/tar/>tar</a>&nbsp;
<a href=https://shantanugoel.com/tags/webhosting/>Webhosting</a>&nbsp;
<a href=https://shantanugoel.com/tags/webhosting-tip/>webhosting tip</a>&nbsp;
<a href=https://shantanugoel.com/tags/website-backup/>website backup</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fshantanugoel.com%2f2008%2f02%2f17%2ftip-automating-website-backups%2f&text=TIP%3a%20Automating%20Website%20Backups&via=shantanugoel" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fshantanugoel.com%2f2008%2f02%2f17%2ftip-automating-website-backups%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fshantanugoel.com%2f2008%2f02%2f17%2ftip-automating-website-backups%2f&title=TIP%3a%20Automating%20Website%20Backups" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fshantanugoel.com%2f2008%2f02%2f17%2ftip-automating-website-backups%2f&title=TIP%3a%20Automating%20Website%20Backups" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fshantanugoel.com%2f2008%2f02%2f17%2ftip-automating-website-backups%2f&title=TIP%3a%20Automating%20Website%20Backups" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fshantanugoel.com%2f2008%2f02%2f17%2ftip-automating-website-backups%2f&description=TIP%3a%20Automating%20Website%20Backups" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section><h4 class=see-also>See also</h4><ul><li><a href=/2020/03/20/hammerspoon-backup-joplin-notes-dotfiles-git-macos/>Automatic notes backup on macOS with hammerspoon</a></li><li><a href=/2008/03/04/tip-automating-website-backups-part-iii-cron-made-easy/>TIP: Automating Website Backups - Part III (Cron Made Easy)</a></li><li><a href=/2008/02/28/tip-automating-website-backups-part-iib-reducing-backup-size-contd/>TIP: Automating Website Backups - Part IIb (Reducing Backup Size Contd.)</a></li><li><a href=/2008/02/24/tip-automating-website-backups-part-ii-reducing-backup-size/>TIP: Automating Website Backups - Part II (Reducing Backup Size)</a></li></ul></article><ul class="pager blog-pager"><li class=previous><a href=https://shantanugoel.com/2008/02/14/engineer-a-new-definition/ data-toggle=tooltip data-placement=top title="Engineer: A New Definition">&larr; Previous Post</a></li><li class=next><a href=https://shantanugoel.com/2008/02/17/project-shantz-wp-qotd-my-wordpress-plugin-update-to-110/ data-toggle=tooltip data-placement=top title='Project: "shantz-wp-qotd ", My Wordpress Plugin, Updated to 1.1.0'>Next Post &rarr;</a></li></ul><div class=disqus-comments><button id=show-comments class="btn btn-default" type=button>Show <span class=disqus-comment-count data-disqus-url=https://shantanugoel.com/2008/02/17/tip-automating-website-backups>comments</span></button><div id=disqus_thread></div><script type=text/javascript>var disqus_config=function(){this.page.url='https:\/\/shantanugoel.com\/2008\/02\/17\/tip-automating-website-backups';};</script></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:shantanu@shantanugoel.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/shantanugoel title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/shantanugoel title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">Shantanu Goel
&nbsp;&bull;&nbsp;&copy;
2020
&nbsp;&bull;&nbsp;
<a href=https://shantanugoel.com>Shantanu Vs The World</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.67.1</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
&nbsp;&bull;&nbsp;[<a href=https://github.com/shantanugoel/shantanugoel.com-source/commit/f6965b6df3a3a8d9ebf7c4f3090fe5a4dc1fb5c7>f6965b6d</a>]</p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://shantanugoel.com/js/main.js></script><script>renderMathInElement(document.body);</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://shantanugoel.com/js/load-photoswipe.js></script><script type=text/javascript>$(function(){$('#show-comments').on('click',function(){var disqus_shortname='shantanugoel';(function(){var disqus=document.createElement('script');disqus.type='text/javascript';disqus.async=true;disqus.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(disqus);})();$(this).hide();});});</script><script id=dsq-count-scr src=//shantanugoel.disqus.com/count.js async></script></body></html>